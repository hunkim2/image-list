{"mappings":"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","sources":["src/script.js"],"sourcesContent":["const auth = \"27499358-5a2fddce0b3687817b0f4c648\";\r\nconst url = new URL(location.href);\r\nconst params = new URLSearchParams(url.search);\r\nconst currentPage = params.has('page') ? new URL(location.href).searchParams.get('page') : 1;\r\nconst currentItemsPerPage = params.has('perPage') ? new URL(location.href).searchParams.get('perPage') : 10;\r\n\r\nconst getImages = async (pageNumber, perPage) => {\r\n    const url = `https://pixabay.com/api/?key=${auth}&image_type=photo&per_page=${perPage}&q=cute-dog&orientation=vertical&page=${pageNumber}`\r\n    const response = await fetch(\r\n        url,\r\n        {\r\n            method: \"GET\",\r\n            contentType: \"application/json\"\r\n        }\r\n    );\r\n    if (!response.ok) {\r\n       return Promise.reject(response);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n}\r\n\r\nconst toggleModel = (id) => {\r\n    const modal = document.getElementById(`modal_${id}`);\r\n    modal.classList.toggle(\"modal__show\");\r\n}\r\n\r\nconst createModal = (image) => {\r\n    const modal = document.createElement(\"div\");\r\n    modal.id = `modal_${image.id}`\r\n    modal.className = \"modal\";\r\n\r\n    const modalContent = document.createElement(\"div\");\r\n    modalContent.className = \"modal__content\";\r\n    modal.appendChild(modalContent);\r\n\r\n    const closeBtn = document.createElement(\"span\");\r\n    closeBtn.className = \"modal__close\";\r\n    closeBtn.innerHTML = \"&times;\";\r\n    closeBtn.id = `close-btn__${image.id}`\r\n    modalContent.appendChild(closeBtn);\r\n\r\n    const modalImg = document.createElement(\"img\");\r\n    modalImg.className = \"modal__image\";\r\n    modalImg.src = image.largeImageURL;\r\n    modalContent.appendChild(modalImg);\r\n\r\n    const imageTag = document.createElement(\"p\");\r\n    imageTag.innerHTML = image.tags;\r\n    imageTag.className = \"modal__tag\"\r\n    modalContent.appendChild(imageTag);\r\n\r\n    return modal;\r\n}\r\n\r\nconst renderPagination = (totalHits) => {\r\n    const pagination = document.getElementById(\"pagination-container\");\r\n    let totalPages = Math.ceil(totalHits / currentItemsPerPage);\r\n\r\n    const backToFirstPage = document.createElement(\"a\");\r\n    backToFirstPage.innerHTML = \"&laquo;\";\r\n    backToFirstPage.href = `/?page=1${`&perPage=${currentItemsPerPage}`}`;\r\n\r\n    const backOnePage = document.createElement(\"a\");\r\n    backOnePage.innerHTML = \"&lt;\";\r\n    const backOnePageValue = parseInt(currentPage) - 1;\r\n    backOnePage.href =`/?page=${currentPage == 1 ? 1 : backOnePageValue}${`&perPage=${currentItemsPerPage}`}`\r\n\r\n    const forwardOnePage = document.createElement(\"a\");\r\n    forwardOnePage.innerHTML = \"&gt;\";\r\n    const forwardOnePageValue = parseInt(currentPage) + 1;\r\n    forwardOnePage.href =`/?page=${currentPage == totalPages ? totalPages : forwardOnePageValue}${`&perPage=${currentItemsPerPage}`}`\r\n\r\n    const forwardToLastPage = document.createElement(\"a\");\r\n    forwardToLastPage.innerHTML = \"&raquo;\";\r\n    forwardToLastPage.href = `/?page=${totalPages}${`&perPage=${currentItemsPerPage}`}`;\r\n\r\n    const currentPageNumber = document.createElement(\"p\");\r\n    currentPageNumber.innerText = `${currentPage} of ${totalPages}`;\r\n    \r\n    pagination.appendChild(backToFirstPage);\r\n    pagination.appendChild(backOnePage);\r\n    pagination.appendChild(currentPageNumber);\r\n    pagination.appendChild(forwardOnePage);\r\n    pagination.appendChild(forwardToLastPage);    \r\n}\r\n\r\nconst lazyLoadImages = () => {\r\n    if (\"IntersectionObserver\" in window) {\r\n        const lazyImages = document.querySelectorAll(\".lazy\");\r\n        const imageObserver = new IntersectionObserver((entries, observer) => {\r\n            entries.forEach((entry) => {\r\n                if (entry.isIntersecting) {\r\n                    setTimeout(() => {\r\n                        const image = entry.target;\r\n                        image.src = image.dataset.src;\r\n                        image.classList.remove(\"lazy\");\r\n                        imageObserver.unobserve(image);\r\n                    }, 500)\r\n                   \r\n                }\r\n            });\r\n        });\r\n        lazyImages.forEach((image) => {\r\n            imageObserver.observe(image);\r\n        })\r\n    }\r\n}\r\n\r\nconst renderImages = (images) => {\r\n    images.forEach(image => {\r\n        const newImage = document.createElement(\"img\");\r\n        newImage.setAttribute('data-src', image.largeImageURL);\r\n        newImage.classList.add(\"image-gallery__img\", \"lazy\");\r\n        document.getElementById(\"image-gallery\").appendChild(newImage);\r\n\r\n        const modal = createModal(image);\r\n        document.getElementById(\"main\").appendChild(modal);\r\n\r\n        const modalCloseBtn = document.getElementById(`close-btn__${image.id}`);\r\n        modalCloseBtn.addEventListener(\"click\", () => toggleModel(image.id));\r\n        newImage.addEventListener(\"click\", () => toggleModel(image.id));\r\n    })\r\n    lazyLoadImages();\r\n}\r\n\r\nconst renderError = () => {\r\n    const container = document.getElementById('main');\r\n    const errorMessage = document.createElement('h1');\r\n    errorMessage.innerText = \"Woof Woof! Looks like the page you're looking for isn't here! Woof!\";\r\n    errorMessage.className = \"error-message\";\r\n    container.appendChild(errorMessage);\r\n}\r\n\r\nconst initializePerPage = (perPage) => {\r\n    const perPageSelect = document.getElementById(\"per-page__select\");\r\n    perPageSelect.value = perPage;\r\n    perPageSelect.addEventListener('change', (e) => {\r\n        const value = e.target.value;\r\n        url.searchParams.set(\"perPage\", value)\r\n        window.location = url.href;\r\n    })\r\n}\r\n\r\ngetImages(currentPage, currentItemsPerPage).then((images) =>{\r\n    renderImages(images.hits);\r\n    renderPagination(images.totalHits);\r\n    initializePerPage(currentItemsPerPage);\r\n}).catch(error => {\r\n    renderError();\r\n})\r\n\r\nconst headerLogo = document.getElementById(\"logo\");\r\nheaderLogo.addEventListener('click', () => {\r\n    alert(\"Thank you! Doggo Loves Head Scrutches!! Woof!\");\r\n})"],"names":[],"version":3,"file":"index.44983732.js.map","sourceRoot":"/__parcel_source_root/"}